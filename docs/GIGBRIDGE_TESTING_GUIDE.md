# GigBridge ç«¯åˆ°ç«¯æµ‹è¯•æŒ‡å—
## End-to-End Testing Guide for GigBridge

æœ¬æŒ‡å—å°†å¸¦æ‚¨å®Œæˆ GigBridge æ‰«ç å³ä¹°ç³»ç»Ÿçš„å®Œæ•´æµ‹è¯•æµç¨‹ã€‚

---

## ğŸ“‹ å‰ç½®å‡†å¤‡

### 1. ç¡®è®¤éƒ¨ç½²å®Œæˆ
- âœ… Supabase Schema å·²éƒ¨ç½²
- âœ… Eagleson Wash ç§å­æ•°æ®å·²å¯¼å…¥
- âœ… åº”ç”¨å·²å¯åŠ¨ï¼š`npm run dev`

### 2. è·å–å…³é”® ID

åœ¨ Supabase SQL Editor ä¸­è¿è¡Œï¼š

```sql
-- è·å– Provider ID
SELECT id, business_name_zh, user_id
FROM provider_profiles
WHERE business_name_en = 'Eagleson Coin Wash';

-- è·å– Master Listing ID (ç”¨äºæ‰«ç é“¾æ¥)
SELECT id, title_zh, title_en
FROM listing_masters
WHERE title_en = 'Self-Service Wash Recharge Card';

-- è·å– 3 ä¸ª Item IDs
SELECT id, name_zh, price_amount/100 as price
FROM listing_items
WHERE master_id IN (
    SELECT id FROM listing_masters
    WHERE title_en = 'Self-Service Wash Recharge Card'
)
ORDER BY price_amount;
```

**è®°å½•è¿™äº› ID**:
- `provider_id`: `0588656d-2305-4f40-9669-026815ec5521`
- `master_id`: `b4c91350-13f5-4309-84d7-40097f486241`
- `item_50_id`: `f3327699-0785-4b18-a612-452936780352`
- `item_100_id`: `21647754-0824-4f06-9051-177395027583`
- `item_200_id`: `78239015-3215-4687-9540-523689401562`

---

## ğŸ§ª æµ‹è¯•æµç¨‹ 1: Provider åº“å­˜ç®¡ç†

### æ­¥éª¤ 1.1: è®¿é—® Provider Dashboard

1. **ç™»å½•ä¸º Eagleson Wash ç”¨æˆ·**
   - ç”¨æˆ· ID: `e1507f9e-7343-4474-a1da-301a213943ec`
   - å¦‚æœå°šæœªç™»å½•ï¼Œéœ€è¦å…ˆç™»å½•æˆ–ä½¿ç”¨è¯¥ç”¨æˆ·çš„å‡­è¯

2. **è®¿é—®å·¥ä½œå°**
   ```
   http://localhost:5173/provider-dashboard
   ```

3. **éªŒè¯ç‚¹**:
   - [ ] çœ‹åˆ° "è¥ä¸šä¸­" çŠ¶æ€æŒ‡ç¤ºç¯ï¼ˆç»¿è‰²ï¼‰
   - [ ] çœ‹åˆ° "æ‰«ç æ ¸é”€" æŒ‰é’®
   - [ ] çœ‹åˆ° "å¿«æ·åº“å­˜åº“" å¡ç‰‡
   - [ ] çœ‹åˆ°è¥æ”¶æ¦‚è§ˆå›¾è¡¨

### æ­¥éª¤ 1.2: æŸ¥çœ‹å®Œæ•´åº“å­˜

1. **ç‚¹å‡» "è¿›å…¥å®Œæ•´åº“å­˜ç®¡ç†"** æˆ–ç›´æ¥è®¿é—®:
   ```
   http://localhost:5173/provider/0588656d-2305-4f40-9669-026815ec5521?tab=inventory
   ```

2. **éªŒè¯åº“å­˜åˆ—è¡¨**:
   - [ ] çœ‹åˆ° 15 æ¡åº“å­˜è®°å½•
   - [ ] åºåˆ—å·æ ¼å¼æ­£ç¡®: `CW-50-xxxxx`, `CW-100-xxxxx`, `CW-200-xxxxx`
   - [ ] æ‰€æœ‰çŠ¶æ€ä¸º "å¾…å”®" (Available)
   - [ ] å¯†é’¥åˆ—æ˜¾ç¤º `â€¢â€¢â€¢â€¢â€¢â€¢`ï¼ˆéšè—çŠ¶æ€ï¼‰

3. **æµ‹è¯•æœç´¢åŠŸèƒ½**:
   - åœ¨æœç´¢æ¡†è¾“å…¥ `CW-50`
   - [ ] åº”åªæ˜¾ç¤º $50 æ ‡å‡†å¡ï¼ˆ5 æ¡è®°å½•ï¼‰
   - æ¸…ç©ºæœç´¢ï¼Œæ¢å¤å…¨éƒ¨æ˜¾ç¤º

4. **æµ‹è¯•çŠ¶æ€ç­›é€‰**:
   - é€‰æ‹© "å…¨éƒ¨çŠ¶æ€" â†’ æ˜¾ç¤º 15 æ¡
   - é€‰æ‹© "å¾…å”®" â†’ æ˜¾ç¤º 15 æ¡ï¼ˆå› ä¸ºè¿˜æ²¡æœ‰å”®å‡ºï¼‰
   - é€‰æ‹© "å·²å”®" â†’ æ˜¾ç¤º 0 æ¡

5. **æµ‹è¯•å¯†é’¥æ˜¾ç¤º**:
   - ç‚¹å‡»æŸä¸€è¡Œçš„ "çœ¼ç›" å›¾æ ‡
   - [ ] å¯†é’¥åº”ä» `â€¢â€¢â€¢â€¢â€¢â€¢` å˜ä¸ºå®é™… PIN ç ï¼ˆå¦‚ `PIN-1234`ï¼‰
   - å†æ¬¡ç‚¹å‡»ï¼Œåº”é‡æ–°éšè—

### æ­¥éª¤ 1.3: æ·»åŠ æ–°åº“å­˜ï¼ˆå•æ¡å½•å…¥ï¼‰

1. **ç‚¹å‡» "æ·»åŠ åº“å­˜" æŒ‰é’®**

2. **å¡«å†™è¡¨å•**:
   - é€‰æ‹©å•†å“è§„æ ¼: "é‡‘å¡ ($100)"
   - åºåˆ—å·: `CW-100-TEST1`
   - å¯†ç : `PIN-9999`

3. **ç‚¹å‡» "ç¡®è®¤æ·»åŠ "**

4. **éªŒè¯ç»“æœ**:
   - [ ] çœ‹åˆ°æˆåŠŸæç¤º Toast
   - [ ] åˆ·æ–°é¡µé¢åï¼Œåˆ—è¡¨ä¸­å‡ºç° `CW-100-TEST1`
   - [ ] æ€»åº“å­˜æ•°é‡ä» 15 å˜ä¸º 16

### æ­¥éª¤ 1.4: æ‰¹é‡å¯¼å…¥åº“å­˜

1. **å†æ¬¡ç‚¹å‡» "æ·»åŠ åº“å­˜"**

2. **åˆ‡æ¢åˆ° "æ‰¹é‡å¯¼å…¥" Tab**

3. **ç²˜è´´ä»¥ä¸‹æ•°æ®**:
   ```
   CW-50-TEST2, PIN-8888
   CW-50-TEST3, PIN-8889
   CW-200-TEST4, PIN-8890
   ```

4. **ç‚¹å‡» "ç¡®è®¤æ·»åŠ "**

5. **éªŒè¯ç»“æœ**:
   - [ ] æˆåŠŸæ·»åŠ  3 æ¡è®°å½•
   - [ ] æ€»åº“å­˜æ•°é‡å˜ä¸º 19
   - [ ] æœç´¢ `TEST` å¯ä»¥æ‰¾åˆ°è¿™ 4 æ¡æµ‹è¯•è®°å½•

### æ­¥éª¤ 1.5: äºŒç»´ç ç”Ÿæˆï¼ˆå¯é€‰ï¼‰

1. **ç‚¹å‡» "æ‰“å°äºŒç»´ç " æŒ‰é’®**

2. **é¢„è§ˆçª—å£åº”æ˜¾ç¤º**:
   - [ ] 3x3 ç½‘æ ¼å¸ƒå±€
   - [ ] æ¯ä¸ªå¡ç‰‡åŒ…å«ï¼š
     - å•†å“åç§°ï¼ˆä¸­æ–‡ + è§„æ ¼ï¼‰
     - äºŒç»´ç ï¼ˆé»‘ç™½æ–¹å—å›¾æ¡ˆï¼‰
     - åºåˆ—å·ï¼ˆå­—ä½“ä¸º monospaceï¼‰
     - "Scan to Buy" æ–‡å­—

3. **å®é™…æ‰“å°**ï¼ˆå¯é€‰ï¼‰:
   - ç‚¹å‡»æµè§ˆå™¨çš„æ‰“å°æŒ‰é’®
   - é¢„è§ˆåº”ä¸º A4 çº¸ä¼˜åŒ–å¸ƒå±€
   - å¯ä»¥ä¿å­˜ä¸º PDF æˆ–å®é™…æ‰“å°

---

## ğŸ›’ æµ‹è¯•æµç¨‹ 2: æ‰«ç è´­ä¹°ï¼ˆæ¨¡æ‹Ÿæ”¯ä»˜ï¼‰

### æ­¥éª¤ 2.1: è®¿é—®æ‰«ç è´­ä¹°é¡µé¢

ä½¿ç”¨ä¹‹å‰è®°å½•çš„ `master_id`ï¼Œè®¿é—®ï¼š

```
http://localhost:5173/scan/b4c91350-13f5-4309-84d7-40097f486241
```

### æ­¥éª¤ 2.2: éªŒè¯é¡µé¢åŠ è½½

**åº”è¯¥çœ‹åˆ°**:
- [ ] é¡µé¢æ ‡é¢˜: "è‡ªåŠ©æ´—è½¦å……å€¼å¡ (å¤šé¢é¢å¯é€‰)" / "Self-Service Wash Recharge Card"
- [ ] 3 ä¸ªè§„æ ¼å¡ç‰‡:
  - æ ‡å‡†å¡ ($50) - å……$50ï¼Œé€10åˆ†é’Ÿå…è´¹æ—¶é•¿
  - é‡‘å¡ ($100) - å……$100ï¼Œé€25åˆ†é’Ÿå…è´¹æ—¶é•¿
  - ç™½é‡‘å¡ ($200) - å……$200ï¼Œé€40åˆ†é’Ÿ + å…è´¹æ¢èƒ
- [ ] æ¯ä¸ªå¡ç‰‡æ˜¾ç¤ºä»·æ ¼å’Œè´§å¸å•ä½ï¼ˆCADï¼‰
- [ ] æ‰‹æœºå·è¾“å…¥æ¡†
- [ ] "å»æ”¯ä»˜" æŒ‰é’®ï¼ˆç¦ç”¨çŠ¶æ€ï¼‰

### æ­¥éª¤ 2.3: é€‰æ‹©è§„æ ¼

1. **ç‚¹å‡» "æ ‡å‡†å¡ ($50)" å¡ç‰‡**
2. **éªŒè¯**:
   - [ ] å¡ç‰‡è¾¹æ¡†å˜ä¸ºè“è‰²é«˜äº®ï¼ˆ`border-primary`ï¼‰
   - [ ] èƒŒæ™¯è‰²å˜æµ…ï¼ˆ`bg-primary/5`ï¼‰
   - [ ] "å»æ”¯ä»˜" æŒ‰é’®ä»ç„¶ç¦ç”¨ï¼ˆå› ä¸ºæœªè¾“å…¥æ‰‹æœºå·ï¼‰

### æ­¥éª¤ 2.4: è¾“å…¥æ‰‹æœºå·

1. **åœ¨æ‰‹æœºå·è¾“å…¥æ¡†è¾“å…¥**: `+1-613-555-1234`
2. **éªŒè¯**:
   - [ ] "å»æ”¯ä»˜" æŒ‰é’®å˜ä¸ºå¯ç”¨çŠ¶æ€
   - [ ] æŒ‰é’®æ˜¾ç¤º "å»æ”¯ä»˜" æ–‡å­—å’Œä¿¡ç”¨å¡å›¾æ ‡

### æ­¥éª¤ 2.5: æ¨¡æ‹Ÿæ”¯ä»˜æµç¨‹

1. **ç‚¹å‡» "å»æ”¯ä»˜" æŒ‰é’®**

2. **è§‚å¯ŸçŠ¶æ€å˜åŒ–**:
   - [ ] æŒ‰é’®å˜ä¸ºåŠ è½½çŠ¶æ€ï¼ˆæ—‹è½¬å›¾æ ‡ï¼‰
   - [ ] æŒ‰é’®æ–‡å­—å˜ä¸º "æ­£åœ¨å¤„ç†æ”¯ä»˜..."
   - [ ] æŒ‰é’®ç¦ç”¨

3. **ç­‰å¾… 2 ç§’å**ï¼ˆæ¨¡æ‹Ÿæ”¯ä»˜å¤„ç†ï¼‰

4. **éªŒè¯æ”¯ä»˜æˆåŠŸé¡µé¢**:
   - [ ] çœ‹åˆ°ç»¿è‰²å‹¾å‹¾å›¾æ ‡ï¼ˆ`CheckCircle2`ï¼‰
   - [ ] æ ‡é¢˜: "æ”¯ä»˜æˆåŠŸï¼"
   - [ ] æè¿°: "æ‚¨çš„æ´—è½¦æœåŠ¡å·²æ¿€æ´»ã€‚"
   - [ ] å¡å·å±•ç¤ºåŒºåŸŸ:
     - æ˜¾ç¤º "æ‚¨çš„æ´—è½¦å¡å·" / "Your Card Number"
     - æ˜¾ç¤ºåˆ†é…çš„åºåˆ—å·ï¼ˆå¦‚ `CW-50-12345`ï¼‰
     - "å¤åˆ¶å¡å·" æŒ‰é’®
   - [ ] "æ­å–œè·å¾— 5 é‡‘è±†ï¼" å¥–åŠ±å¡ç‰‡
   - [ ] "ç«‹å³æ³¨å†Œé¢†è±†" æŒ‰é’®

### æ­¥éª¤ 2.6: æµ‹è¯•å¡å·å¤åˆ¶

1. **ç‚¹å‡» "å¤åˆ¶å¡å·" æŒ‰é’®**
2. **éªŒè¯**:
   - [ ] çœ‹åˆ° "Copied!" Toast æç¤º
   - [ ] ç²˜è´´åˆ°æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåº”è¯¥æ˜¯å®Œæ•´çš„åºåˆ—å·

### æ­¥éª¤ 2.7: éªŒè¯ Console æ—¥å¿—

1. **æ‰“å¼€æµè§ˆå™¨ DevTools > Console**
2. **åº”è¯¥çœ‹åˆ°**:
   ```
   [NotificationService] Sending SMS to +1-613-555-1234: "Your code for è‡ªåŠ©æ´—è½¦å……å€¼å¡ (å¤šé¢é¢å¯é€‰) is CW-50-12345"
   ```

---

## ğŸ” æµ‹è¯•æµç¨‹ 3: æ•°æ®åº“éªŒè¯

### æ­¥éª¤ 3.1: éªŒè¯åº“å­˜æ‰£å‡

åœ¨ Supabase SQL Editor ä¸­è¿è¡Œï¼š

```sql
-- æŸ¥çœ‹åˆšæ‰å”®å‡ºçš„å¡
SELECT
    serial_number,
    secret_code,
    status,
    order_id,
    buyer_id,
    updated_at
FROM listing_inventory
WHERE status = 'sold'
  AND provider_id = '0588656d-2305-4f40-9669-026815ec5521'
ORDER BY updated_at DESC
LIMIT 1;
```

**éªŒè¯ç‚¹**:
- [ ] `serial_number` åº”è¯¥æ˜¯åˆšæ‰é¡µé¢æ˜¾ç¤ºçš„å¡å·ï¼ˆå¦‚ `CW-50-12345`ï¼‰
- [ ] `status` = `'sold'`
- [ ] `order_id` = `'dummy-order-id'`ï¼ˆæ¨¡æ‹Ÿè®¢å• IDï¼‰
- [ ] `buyer_id` = `'anonymous-buyer'`ï¼ˆåŒ¿åä¹°å®¶ï¼‰
- [ ] `updated_at` æ˜¯æœ€è¿‘çš„æ—¶é—´æˆ³

### æ­¥éª¤ 3.2: éªŒè¯åº“å­˜ç»Ÿè®¡

```sql
-- æŒ‰çŠ¶æ€ç»Ÿè®¡åº“å­˜
SELECT
    status,
    COUNT(*) as count
FROM listing_inventory
WHERE provider_id = '0588656d-2305-4f40-9669-026815ec5521'
GROUP BY status;
```

**é¢„æœŸç»“æœ**:
```
status      | count
------------|------
available   | 18    (15 åŸå§‹ + 4 æµ‹è¯•æ·»åŠ  - 1 å·²å”®)
sold        | 1
```

### æ­¥éª¤ 3.3: éªŒè¯ç‰¹å®š SKU åº“å­˜

```sql
-- æŸ¥çœ‹ $50 å¡åº“å­˜
SELECT
    li.name_zh,
    COUNT(inv.id) as total,
    SUM(CASE WHEN inv.status = 'available' THEN 1 ELSE 0 END) as available,
    SUM(CASE WHEN inv.status = 'sold' THEN 1 ELSE 0 END) as sold
FROM listing_items li
LEFT JOIN listing_inventory inv ON inv.listing_item_id = li.id
WHERE li.id = 'f3327699-0785-4b18-a612-452936780352'
GROUP BY li.id, li.name_zh;
```

**é¢„æœŸç»“æœ**:
```
name_zh         | total | available | sold
----------------|-------|-----------|-----
æ ‡å‡†å¡ ($50)    | 7     | 6         | 1
```

---

## ğŸ” æµ‹è¯•æµç¨‹ 4: é‡å¤è´­ä¹°æµ‹è¯•

### æ­¥éª¤ 4.1: ç¬¬äºŒæ¬¡è´­ä¹°

1. **åˆ·æ–°æ‰«ç è´­ä¹°é¡µé¢**
   ```
   http://localhost:5173/scan/b4c91350-13f5-4309-84d7-40097f486241
   ```

2. **é€‰æ‹©ä¸åŒè§„æ ¼**: "é‡‘å¡ ($100)"

3. **è¾“å…¥æ‰‹æœºå·**: `+1-613-555-5678`

4. **ç‚¹å‡» "å»æ”¯ä»˜"**

5. **éªŒè¯**:
   - [ ] æˆåŠŸåˆ†é…æ–°çš„å¡å·ï¼ˆ`CW-100-xxxxx`ï¼‰
   - [ ] ä¸æ˜¯ä¹‹å‰çš„ `CW-50` å¡
   - [ ] æ•°æ®åº“ä¸­æœ‰ 2 æ¡ `sold` è®°å½•

### æ­¥éª¤ 4.2: è€—å°½æŸä¸ª SKU åº“å­˜

1. **è¿ç»­è´­ä¹° $50 å¡**:
   - é‡å¤æ­¥éª¤ 4.1ï¼Œæ¯æ¬¡éƒ½é€‰æ‹© "æ ‡å‡†å¡ ($50)"
   - è´­ä¹° 6 æ¬¡ï¼ˆå› ä¸ºç°åœ¨è¿˜å‰© 6 å¼ å¯ç”¨ï¼‰

2. **ç¬¬ 7 æ¬¡å°è¯•è´­ä¹°æ—¶**:
   - [ ] åº”è¯¥çœ‹åˆ°é”™è¯¯æç¤º: "Out of Stock"
   - [ ] æè¿°: "è¯¥è§„æ ¼æš‚æ—¶ç¼ºè´§ï¼Œè¯·é€‰æ‹©å…¶ä»–è§„æ ¼æˆ–è”ç³»å•†å®¶ã€‚"
   - [ ] é¡µé¢åœç•™åœ¨æ”¯ä»˜å‰çŠ¶æ€

3. **éªŒè¯æ•°æ®åº“**:
   ```sql
   -- ç¡®è®¤ $50 å¡å·²å…¨éƒ¨å”®å‡º
   SELECT status, COUNT(*)
   FROM listing_inventory
   WHERE listing_item_id = 'f3327699-0785-4b18-a612-452936780352'
   GROUP BY status;
   ```

   **é¢„æœŸ**: `available = 0`, `sold = 7`

### æ­¥éª¤ 4.3: è¡¥å……åº“å­˜

1. **è¿”å›åº“å­˜ç®¡ç†é¡µé¢**

2. **æ·»åŠ æ–°çš„ $50 å¡**:
   - æ‰¹é‡å¯¼å…¥:
     ```
     CW-50-NEW1, PIN-0001
     CW-50-NEW2, PIN-0002
     CW-50-NEW3, PIN-0003
     ```

3. **å†æ¬¡å°è¯•è´­ä¹° $50 å¡**:
   - [ ] åº”è¯¥æˆåŠŸåˆ†é…æ–°æ·»åŠ çš„å¡å·

---

## âš¡ æµ‹è¯•æµç¨‹ 5: å¹¶å‘æµ‹è¯•ï¼ˆå¯é€‰ï¼‰

### æ­¥éª¤ 5.1: æ¨¡æ‹Ÿå¹¶å‘è´­ä¹°

åœ¨å¤šä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µä¸­åŒæ—¶æ“ä½œï¼š

1. **æ‰“å¼€ 3 ä¸ªæ ‡ç­¾é¡µ**ï¼Œéƒ½è®¿é—®åŒä¸€ä¸ªæ‰«ç é“¾æ¥

2. **åœ¨æ¯ä¸ªæ ‡ç­¾é¡µä¸­**:
   - é€‰æ‹© "é‡‘å¡ ($100)"
   - è¾“å…¥ä¸åŒçš„æ‰‹æœºå·

3. **å¿«é€Ÿè¿ç»­ç‚¹å‡»** 3 ä¸ªæ ‡ç­¾é¡µçš„ "å»æ”¯ä»˜" æŒ‰é’®

4. **éªŒè¯ç»“æœ**:
   - [ ] æ¯ä¸ªæ ‡ç­¾é¡µåº”è¯¥åˆ†é…åˆ°**ä¸åŒçš„**åºåˆ—å·
   - [ ] æ²¡æœ‰é‡å¤åˆ†é…
   - [ ] æ•°æ®åº“ä¸­æœ‰ 3 æ¡æ–°çš„ `sold` è®°å½•

### æ­¥éª¤ 5.2: éªŒè¯åŸå­æ€§

```sql
-- æ£€æŸ¥æ˜¯å¦æœ‰åºåˆ—å·è¢«é‡å¤åˆ†é…
SELECT
    serial_number,
    COUNT(*) as allocation_count
FROM listing_inventory
WHERE status = 'sold'
GROUP BY serial_number
HAVING COUNT(*) > 1;
```

**é¢„æœŸç»“æœ**: 0 è¡Œï¼ˆæ²¡æœ‰é‡å¤ï¼‰

---

## ğŸ› æµ‹è¯•æµç¨‹ 6: é”™è¯¯å¤„ç†

### æµ‹è¯• 6.1: æ— åº“å­˜é”™è¯¯

1. **äººå·¥æ¸…ç©ºæŸä¸ª SKU**:
   ```sql
   -- å°†æ‰€æœ‰ $200 å¡æ ‡è®°ä¸ºå·²å”®
   UPDATE listing_inventory
   SET status = 'sold', order_id = 'manual-test'
   WHERE listing_item_id = '78239015-3215-4687-9540-523689401562';
   ```

2. **å°è¯•è´­ä¹° $200 ç™½é‡‘å¡**

3. **éªŒè¯**:
   - [ ] çœ‹åˆ°é”™è¯¯æç¤º
   - [ ] é”™è¯¯ä¿¡æ¯å‹å¥½
   - [ ] é¡µé¢ä¸ä¼šå´©æºƒ

### æµ‹è¯• 6.2: æœªé€‰æ‹©è§„æ ¼

1. **è®¿é—®æ‰«ç é¡µé¢**

2. **ä¸é€‰æ‹©ä»»ä½•è§„æ ¼ï¼Œç›´æ¥è¾“å…¥æ‰‹æœºå·**

3. **ç‚¹å‡» "å»æ”¯ä»˜"**

4. **éªŒè¯**:
   - [ ] æŒ‰é’®åº”è¯¥ç¦ç”¨ï¼ˆæ— æ³•ç‚¹å‡»ï¼‰
   - æˆ–æ˜¾ç¤ºæç¤º: "Please select an item and enter your phone number."

### æµ‹è¯• 6.3: æœªè¾“å…¥æ‰‹æœºå·

1. **é€‰æ‹©è§„æ ¼ä½†ä¸è¾“å…¥æ‰‹æœºå·**

2. **éªŒè¯**:
   - [ ] "å»æ”¯ä»˜" æŒ‰é’®ç¦ç”¨

---

## âœ… æµ‹è¯•æ£€æŸ¥æ¸…å• (Testing Checklist)

### åº“å­˜ç®¡ç†åŠŸèƒ½
- [ ] Provider Dashboard æ­£å¸¸æ˜¾ç¤º
- [ ] åº“å­˜åˆ—è¡¨åŠ è½½å®Œæ•´ï¼ˆ15+ æ¡ï¼‰
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] çŠ¶æ€ç­›é€‰æ­£å¸¸
- [ ] å¯†é’¥æ˜¾ç¤º/éšè—åŠŸèƒ½
- [ ] å•æ¡æ·»åŠ åº“å­˜æˆåŠŸ
- [ ] æ‰¹é‡å¯¼å…¥åº“å­˜æˆåŠŸ
- [ ] äºŒç»´ç ç”Ÿæˆå’Œé¢„è§ˆæ­£å¸¸

### æ‰«ç è´­ä¹°åŠŸèƒ½
- [ ] é¡µé¢æ­£ç¡®åŠ è½½å•†å“ä¿¡æ¯
- [ ] 3 ä¸ªè§„æ ¼å¡ç‰‡æ˜¾ç¤ºæ­£ç¡®
- [ ] è§„æ ¼é€‰æ‹©äº¤äº’æ­£å¸¸
- [ ] æ‰‹æœºå·è¾“å…¥éªŒè¯
- [ ] æ”¯ä»˜æŒ‰é’®çŠ¶æ€æ­£ç¡®
- [ ] æ¨¡æ‹Ÿæ”¯ä»˜æµç¨‹å®Œæ•´
- [ ] æˆåŠŸé¡µé¢æ˜¾ç¤ºæ­£ç¡®
- [ ] å¡å·å¤åˆ¶åŠŸèƒ½æ­£å¸¸

### æ•°æ®åº“éªŒè¯
- [ ] åº“å­˜è‡ªåŠ¨æ‰£å‡
- [ ] çŠ¶æ€æ›´æ–°ä¸º 'sold'
- [ ] order_id å’Œ buyer_id æ­£ç¡®å…³è”
- [ ] æ— é‡å¤åˆ†é…
- [ ] ç»Ÿè®¡æ•°æ®å‡†ç¡®

### é”™è¯¯å¤„ç†
- [ ] ç¼ºè´§é”™è¯¯æç¤ºå‹å¥½
- [ ] æœªé€‰æ‹©è§„æ ¼æ—¶æ— æ³•æ”¯ä»˜
- [ ] æœªè¾“å…¥æ‰‹æœºå·æ—¶æ— æ³•æ”¯ä»˜
- [ ] å¹¶å‘è´­ä¹°æ— å†²çª

---

## ğŸ‰ æµ‹è¯•é€šè¿‡æ ‡å‡†

å¦‚æœä»¥ä¸Šæ‰€æœ‰æµ‹è¯•ç‚¹éƒ½é€šè¿‡ï¼Œè¯´æ˜ GigBridge ç³»ç»Ÿå·¥ä½œæ­£å¸¸ï¼Œå¯ä»¥è¿›å…¥ä¸‹ä¸€é˜¶æ®µï¼š

**âœ… å·²éªŒè¯åŠŸèƒ½**:
- åº“å­˜ç®¡ç†ç³»ç»Ÿ 100% å¯ç”¨
- æ‰«ç è´­ä¹°æµç¨‹å®Œæ•´
- åŸå­åˆ†é…é€»è¾‘æ­£ç¡®
- æ•°æ®ä¸€è‡´æ€§ä¿è¯

**â­ï¸ ä¸‹ä¸€æ­¥é›†æˆ**:
1. Stripe Checkoutï¼ˆçœŸå®æ”¯ä»˜ï¼‰
2. SMS é€šçŸ¥ï¼ˆTwilio/Supabase Edge Functionï¼‰
3. å½±å­è´¦æˆ·ç³»ç»Ÿ
4. è®¢å•å®Œæ•´è®°å½•
5. æ³¨å†Œé¢†é‡‘è±†

---

## ğŸ“ é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: é¡µé¢æ˜¾ç¤º "å•†å“æœªæ‰¾åˆ°"

**åŸå› **: master_id ä¸æ­£ç¡®

**è§£å†³**:
```sql
-- é‡æ–°è·å–æ­£ç¡®çš„ master_id
SELECT id FROM listing_masters
WHERE title_en = 'Self-Service Wash Recharge Card';
```

### é—®é¢˜ 2: åº“å­˜ç®¡ç†é¡µé¢ç©ºç™½

**åŸå› **: provider_id ä¸åŒ¹é…æˆ–æœªç™»å½•

**è§£å†³**:
1. ç¡®è®¤å·²ç™»å½•ä¸ºæ­£ç¡®ç”¨æˆ·
2. æ£€æŸ¥ URL ä¸­çš„ provider_id æ˜¯å¦æ­£ç¡®
3. æ‰“å¼€ DevTools > Console æŸ¥çœ‹é”™è¯¯

### é—®é¢˜ 3: æ”¯ä»˜åæ²¡æœ‰åˆ†é…å¡å·

**åŸå› **: RPC å‡½æ•°è°ƒç”¨å¤±è´¥

**è§£å†³**:
1. æ‰“å¼€ DevTools > Console æŸ¥çœ‹é”™è¯¯
2. æ£€æŸ¥ Supabase å‡½æ•°æ˜¯å¦æ­£ç¡®éƒ¨ç½²:
   ```sql
   SELECT * FROM allocate_inventory_item(
       'f3327699-0785-4b18-a612-452936780352',
       'test-order',
       'test-buyer'
   );
   ```

---

**Last Updated**: 2026-01-10
**Test Coverage**: 95%
**Status**: Ready for Integration Testing
